/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package aoc;

import aoc.day01.Day01;

import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class App {

    private static final Map<Integer, Day> DAYS;
    static {
        DAYS = new HashMap<>();
        DAYS.put(1, new Day01());
    }

    public static void main(String[] args) {
        int year = Utils.defaultYear();
        int day = Utils.defaultDay();

        if(args.length != 0){
            day = intOrDie(args[0]);
        }

        int part = 1;
        if(args.length > 1){
            part = intOrDie(args[1]);
        }

        String input = Utils.readInput(year, day);
        List<String> lines = Arrays.asList(input.split(System.lineSeparator()));

        String result;
        if(part == 1) {
            result = DAYS.get(day).part1(lines);
        } else {
            result = DAYS.get(day).part2(lines);
        }

        System.out.println(result);
    }

    private static int intOrDie(String numeric) {
        try {
            return Integer.valueOf(numeric);
        } catch(NumberFormatException e) {
            System.out.println("The argument '" + numeric + "' could not be interpreted as an integer number.");
            System.exit(1);
        }
        return -1;
    }
}
